<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XO-Tube Oficial</title>
    <style>
        body { font-family: sans-serif; background: #000; color: #fff; text-align: center; margin: 0; padding: 10px; }
        .box { max-width: 600px; margin: 0 auto; background: #111; padding: 20px; border-radius: 10px; border: 2px solid #333; }
        h1 { color: #f00; font-size: 1.5em; margin-bottom: 5px; }
        input { width: 90%; padding: 12px; margin: 10px 0; border-radius: 5px; border: 1px solid #444; background: #222; color: #fff; font-size: 16px; }
        button { width: 95%; padding: 12px; background: #f00; color: #fff; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; }
        
        /* Contenedor del video para que mantenga la forma */
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* RelaciÃ³n 16:9 */
            height: 0;
            overflow: hidden;
            margin-top: 20px;
            display: none; /* Se muestra al cargar */
            border: 1px solid #444;
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .footer { margin-top: 20px; font-size: 0.8em; color: #666; }
    </style>
</head>
<body>

<div class="box">
    <h1>XO-Tube ðŸš€</h1>
    <p style="font-size: 0.8em;">Modo Directo (Sin bloqueos)</p>
    
    <input type="text" id="urlInput" placeholder="Pega el link de YouTube aquÃ­">
    <button onclick="cargarVideo()">REPRODUCIR AHORA</button>

    <div id="wrapper" class="video-container">
        <iframe id="reproductor" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
</div>

<div class="footer">
    Funciona en Windows 10, Edge y OLPC XO.<br>
    Usa el motor oficial de YouTube.
</div>

<script>
    function cargarVideo() {
        var url = document.getElementById('urlInput').value;
        var wrapper = document.getElementById('wrapper');
        var reproductor = document.getElementById('reproductor');

        // Extraer el ID del video (funciona con links cortos y largos)
        var videoId = "";
        if (url.includes("v=")) {
            videoId = url.split("v=")[1].split("&")[0];
        } else if (url.includes("youtu.be/")) {
            videoId = url.split("youtu.be/")[1].split("?")[0];
        } else {
            alert("Por favor, pega un link vÃ¡lido de YouTube");
            return;
        }

        // Construir la URL de "Embed" oficial de YouTube
        // 'vq=small' intenta forzar calidad baja para la XO
        var embedUrl = "https://www.youtube.com/embed/" + videoId + "?autoplay=1&rel=0&vq=small";

        reproductor.src = embedUrl;
        wrapper.style.display = "block";
    }
</script>

</body>
</html>
